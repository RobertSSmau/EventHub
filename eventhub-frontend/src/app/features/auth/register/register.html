<div class="register-container">
  <div class="register-card">
    <h1>Create Account</h1>
    <p class="subtitle">Join EventHub today</p>
    
    @if (success) {
      <div class="success-message">
        <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
          <polyline points="22 4 12 14.01 9 11.01"></polyline>
        </svg>
        <h2>Registration Successful!</h2>
        <p>Redirecting to events...</p>
      </div>
    } @else {
      <form (ngSubmit)="onSubmit()" #registerForm="ngForm">
        <div class="form-group">
          <label for="username">Username</label>
          <input 
            type="text" 
            id="username" 
            name="username"
            [(ngModel)]="credentials.username" 
            required 
            minlength="3"
            placeholder="Choose a username"
            [disabled]="loading">
        </div>

        <div class="form-group">
          <label for="email">Email</label>
          <input 
            type="email" 
            id="email" 
            name="email"
            [(ngModel)]="credentials.email" 
            required 
            email
            placeholder="your@email.com"
            [disabled]="loading">
        </div>

        <div class="form-group">
          <label for="password">Password</label>
          <input 
            type="password" 
            id="password" 
            name="password"
            [(ngModel)]="credentials.password" 
            required
            minlength="6"
            placeholder="At least 6 characters"
            [disabled]="loading">
          @if (credentials.password && credentials.password.length < 6) {
            <small class="field-error">Password must be at least 6 characters</small>
          }
        </div>

        <div class="form-group">
          <label for="confirmPassword">Confirm Password</label>
          <input 
            type="password" 
            id="confirmPassword" 
            name="confirmPassword"
            [(ngModel)]="confirmPassword" 
            required
            placeholder="Re-enter your password"
            [disabled]="loading">
          @if (confirmPassword && !passwordsMatch) {
            <small class="field-error">Passwords do not match</small>
          }
          @if (confirmPassword && passwordsMatch) {
            <small class="field-success">âœ“ Passwords match</small>
          }
        </div>

        @if (error) {
          <div class="error-message">{{ error }}</div>
        }

        <button 
          type="submit" 
          [disabled]="!isFormValid || loading"
          class="btn-primary">
          {{ loading ? 'Creating account...' : 'Register' }}
        </button>
      </form>

      <div class="login-link">
        <p>Already have an account? <a routerLink="/login">Login here</a></p>
      </div>
    }
  </div>
</div>
